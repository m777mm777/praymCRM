<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GET Request with Multiple Objects</title>
    <style>
        .data-card {
            background-color: #f5f5f5;
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }

        .rightpic {
            float: right; /* Выравнивание по правому краю */
            margin: 0 30px 5px 5px; /* Отступы вокруг фотографии */
        }

        /* Fix the header at the top of the page */
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%; /* Ширина элемента на всю ширину экрана */
            height: 140px; /* Фиксированная высота элемента */
            background-image: url("/images/logo-praym1.jpg");/* Optional: Add a background color */
            background-size: 100% auto;
            z-index: 100; /* Ensure it stays on top of other content */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Optional: Add a shadow */
            padding: 10px 10px; /* Optional: Add padding for better spacing */
        }

        /* Add padding to the main content to prevent it from being hidden behind the fixed header */
        main {
            padding-top: 150px; /* Отступ, чтобы избежать наложения на фиксированный заголовок */
        }

        /* Optional: Add some basic styling to the body */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        /* Optional: Style the header text */
        .fixed-header h1 {
            margin: 0;
            font-size: 24px;
        }

        /* Optional: Style the main content */
        main p {
            font-size: 18px;
            line-height: 1.6;
            margin: 20px;
        }

        /* Стили для четных и нечетных полей */
        .chet-field {
            background-color: #a8a8a8; /* темно-серый цвет фона */
            color: #000000; /* Черный цвет текста */
            border-radius: 5px; /* Скругление углов */
        }

        .nechet-field {
            background-color: #e3e8e6; /* бело-серый цвет фона */
            color: #000000; /* Черный цвет текста */
            border-radius: 5px; /* Скругление углов */
        }

        .nemenyemye-field {
            background-color: #b0b7c6; /* синий цвет фона */
            color: #000000; /* Черный цвет текста */
            border-radius: 5px; /* Скругление углов */
        }

        .non-field {
            background-color: #c2c2c2; /* Серый цвет фона */
            color: #000000; /* Черный цвет текста */
        }

        .botton-field {
            background-color: #baacc7; /* красные кнопки */
            color: #000000; /* Черный цвет текста */
            border-radius: 5px; /* Скругление углов */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Optional: Add a shadow */
        }
    </style>
    <!--    <img src="/images/logo-praym.jpg" width="200px" height="200px" class="rightpic">-->
</head>
<body>

<!-- Фиксированный заголовок -->
<div id="i-container" class="fixed-header">
    <!--    <img src="/images/logo-praymm.jpg" width="600" height="100px" class="rightpic">-->
    <form action="/home">
        <input type="submit" value="<- На главную" class="botton-field"/>
        <label style="color: white; font-size: 20px; margin-left: 50px;">
            Сотрудники ПРАЙМГРУПП
        </label>
    </form>
    <br />
    <select style="border-radius: 5px;" id="month" name="month">
        <option value="">Месяц</option>
        <option value="01">Январь</option>
        <option value="02">Февраль</option>
        <option value="03">Март</option>
        <option value="04">Апрель</option>
        <option value="05">Май</option>
        <option value="06">Июнь</option>
        <option value="07">Июль</option>
        <option value="08">Август</option>
        <option value="09">Сентябрь</option>
        <option value="10">Октябрь</option>
        <option value="11">Ноябрь</option>
        <option value="12">Декабрь</option>
        <option value="monthAll">Все месяца</option>
    </select>
    <select style="border-radius: 5px;" id="year" name="year">
        <option value="">Текущий год</option>
        <option value="2024">2024</option>
        <option value="2025">2025</option>
        <option value="2026">2026</option>
        <option value="2027">2027</option>
        <option value="2028">2028</option>
        <option value="2029">2029</option>
        <option value="2030">2030</option>
        <option value="2031">2031</option>
        <option value="2032">2032</option>
        <option value="2033">2033</option>
        <option value="2034">2034</option>
        <option value="2035">2035</option>
        <option value="yearAll">Все года</option>
    </select>
    <select style="border-radius: 5px;" id="responsible" name="responsible" required>
    </select>
    <select style="border-radius: 5px;" id="city" name="city">
        <option value="">Город</option>
        <option value="Москва">Москва</option>
        <option value="Ново-Ебенево">Ново-Ебенево</option>
        <option value="Саратов">Саратов</option>
        <option value="Королев">Королев</option>
        <option value="Питер">Питер</option>
    </select>
    <select style="border-radius: 5px;" id="formaoplaty" name="formaoplaty">
        <option value="">Форма оплаты</option>
        <option value="OFFICIAL">По ТК</option>
        <option value="SZ">Самозанятый</option>
        <option value="IP">ИП</option>
        <option value="NEOFFICIAL">За наличные</option>
    </select><br />
    <button id="fetchButton" class="botton-field">Получить данные</button>
    <button id="saveAllButton" style="margin-top: 20px;" class="botton-field">Сохранить все</button><br />
    <br />
    <div id="label">
        <input style="width: 90px;" type="text" name="2" value="Имя" readonly class="chet-field"/> <!-- Добавлен класс для поля "Имя" -->
        <input style="width: 90px;" type="text" name="3" value="Фамилия" readonly class="nechet-field"/>
        <input style="width: 90px;" type="text" name="4" value="Отчество" readonly class="chet-field"/>
        <input style="width: 90px;" type="text" name="5" value="Телефон" readonly class="nechet-field"/>
        <input style="width: 110px;" type="text" name="7" value="Форма занятости" readonly class="chet-field"/>
        <input style="width: 90px;" type="text" name="8" value="Город" readonly class="nechet-field"/>
        <input style="width: 160px;" type="text" name="9" value="Номер счета" readonly class="chet-field"/>
        <input style="width: 90px;" type="text" name="10" value="Уволен" readonly class="nechet-field"/>
        <input style="width: 110px;" type="text" name="11" value="Ответственный" readonly class="chet-field"/>
    </div>
</div>
<form action="/home">
    <input type="submit" value="<- На главную" />
</form>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<div id="data-container"></div>

<script>
    // Function to send GET request and display data
    async function fetchData() {
        try {
            // Replace with your API endpoint
            const response = await fetch('http://95.142.37.35/admin/all');
<!--                const response = await fetch('http://localhost:8080/admin/all');-->

            // Check if the response is successful
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }

            // Parse the JSON response
            const data = await response.json();

            // Clear previous data
            document.getElementById('data-container').innerHTML = '';

            // Loop through the array of objects and render each one
            data.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'data-card';

                // Check if the index is even or odd and apply the appropriate class
                if (index % 2 === 0) {
                    card.classList.add('non-field');
                } else {
                    card.classList.add('nechet-field');
                }

                // Dynamically create and append fields with unique IDs
                card.innerHTML = `
                    <input style="width: 15px;" type="hidden" id="id-${index}" name="id" value="${item.id}" readonly>
                    <input style="width: 90px;" type="text" id="name-${index}" name="name" value="${item.name}" required class="chet-field">
                    <input style="width: 90px;" type="text" id="lastName-${index}" name="lastName" value="${item.lastName}" required class="nechet-field">
                    <input style="width: 90px;" type="text" id="patronymic-${index}" name="patronymic" value="${item.patronymic}" required class="chet-field">
                    <input style="width: 90px;" type="text" id="phone-${index}" name="phone" value="${item.phone}" required class="nechet-field">
                    <input style="width: 110px;" type="text" id="category-${index}" name="category" value="${item.category}" required class="chet-field">
                    <input style="width: 90px;" type="text" id="city-${index}" name="city" value="${item.city}" required class="nechet-field">
                    <input style="width: 160px;" type="text" id="bankAccountNumber-${index}" name="bankAccountNumber" value="${item.bankAccountNumber}" required class="chet-field">
                    <input style="width: 90px;" type="text" id="dismissed-${index}" name="dismissed" value="${item.dismissed}" required class="nechet-field">
                    <input style="width: 110px;" type="text" id="ownerLastName-${index}" name="ownerLastName" value="${item.ownerLastName}" required class="chet-field">
                `;

                // Append the card to the container
                document.getElementById('data-container').appendChild(card);
            });
        } catch (error) {
            console.error('Error fetching data:', error);
            alert('Failed to fetch data. Please try again.');
        }
    }

    // Attach the fetchData function to the button click event
    document.getElementById('fetchButton').addEventListener('click', fetchData);

    window.onload = fetchData;
</script>
</body>
</html>